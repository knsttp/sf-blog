{% extends 'base.html.twig' %}

{% block header %}All Articles{% endblock %}

{% block content %}
{% if articles is not empty %}
<table class="table">
    <thead>
        <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Body</th>
            <th>Homepage</th>
            <th>Delete</th>
            <th>Update</th>
        </tr>
    </thead>
    <tbody>
    {% for article in articles %}
        <tr>
            <td>{{ article.title }}</td>
            <td>{{ article.author }}</td>
            <td>{{ article.body | slice(0, 20) }}...</td>
            <td>
                {% if article.url != "" %}
                    <a href="http://{{ article.url }}">Visit Homepage</a>
                {% else %}
                    Void Field
                {% endif %}
            </td>
            <td><a class="btn btn-secondary" href="/article/delete/{{ article.id }}">Delete</a></td>
            <td><a class="btn btn-secondary" href="/article/edit/{{ article.id }}">Update</a></td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
    <p>No article found.</p>
{% endif %}

<a class="btn btn-primary" href="/article/add">Create New</a>
{% endblock %}